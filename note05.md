# 事件系统风格

## 事件系统风格

> 事件:

* 能够激活对象功能的动作
* 发生后给所涉及的对象发送一个消息
* 对象接收消息后执行相应的功能

> 基于事件的隐式调用

* 构件不直接调用一个过程而是触发或广播一个或多个事件
* 系统中的其他构件重的过程在一个或多个事件中注册,当一个事件被触发,系统自动调用在这个事件中注册的所有过程,一个事件的触发就导致了零一模块中的过程的调用

## "独立构件"风格

> 事件的触发者并不知道哪些构件会被这些事件影响，相互保持独立。

* 这样不能假定构件的处理顺序，甚至不知道哪些过程会被调用
* 各个构件之间彼此之间无连接关系，各自独立存在，通过对事件的发布和注册实现关联

## 事件系统的优缺点

隐式调用系统的主要优点
* 为软件重用提供了强大的支持
* 为改进系统带来了方便

隐式调用系统的主要缺点
* 构件放弃了对系统计算的控制
* 数据交换的问题
* 正确性推理的问题

# 仓库风格

> 数据库系统,超文本系统和黑板系统都属于仓库风格

在这种风格中,数据仓库(如文件或数据库)位于这种体系结构的中心,其他构件会经常访问该数据仓库,并对仓库中的数据进行增删查改操作

## 仓库风格的连接件

连接件:仓库与独立构件之间的交互存在两种交互机制:
* 数据库方式:输入流中的事务类型触发需要执行的过程
* 黑板结构:中心数据结构的当前状态出发并选择需要的执行过程

## 黑板结构

是仓库体系结构的特殊化

* 构成
  * 知识源
  * 黑板数据结构
  * 控制器

* 知识源
  * 描述某个独立领域的知识及处理方法
  * 通常知识源具有"条件-动作"的形式.条件满足时,知识源被触发,其动作部分增加或修改黑板上内容
  * 每个知识源分别存放且相互独立
  * 知识源通过黑板进行通讯,合作求出问题的解

* 控制器
  * 时刻监视黑板的变化
  * 对黑板上信息的当前状态进行判断和评价
  * 当黑板的状态满足了知识源的执行条件时,该知识源被控制器出发并执行计算,然后将结果更新到黑板上
  * 这种更新又导致其他知识源参与计算并更新黑板,知道找到问题的解为止

# MVC风格

## MVC基本概念

* 模型: 包含核心功能和数据(核心业务逻辑)
* 视图: 向用户显示信息
* 控制器:处理用户输入

## 优点

* 容易增加或者改变视图
* 容易独立的更新每个独立的软件模块
* 代码易开发易维护
* 业务逻辑更易测试

## 缺点

* 不适合小型,中型规模应用程序
* 增加了系统结构和实现的复杂性
* 视图与控制器间的过于紧密的连接
* 视图对模型数据的低效率访问